{% extends "my_portfolio/base.html" %}

{% block content %}

<section class="Container">
  <!-- Profiles -->
  <div class="px-3">
    <div>
      <h1>welcome</h1>
      <p class="lead">Software at your fingertips.</p>
    </div>
    <div>
      <h2>User Profile</h2>
      {% if user.username %}
      <a href="{% url 'my_portfolio:profile' username=user.username %}">Profile</a>
      {% else %}
      <a href="#">Profile (Unavailable)</a>
      {% endif %}

    </div>
  </div>
</section>
<hr>
<!-- Projects section -->
<section id="projects" class="container">
  <h2>Featured Projects</h2>

  {% for project in projects %}
  <h3>{{ project.title }}</h3>
  <img src="{{ project.image.url }}" alt="{{ project.title }}" class="img-thumbnail">
  {% endfor %}
  <a href="{% url 'my_portfolio:projects' %}">View More</a>

</section>
<hr>
<section id="services" class="container">
  <!-- {% comment %} services section {% endcomment %} -->
  <h3>Services</h3>
  {% for service in services %}
  <h4>{{ service.name }}</h4>
  <p>{{ service.description | linebreaks }}</p>
  <button>{{ service.price }}</button>
  {% endfor %}

</section>
<hr>
<section id="clients" class="container">
  <!-- Clients -->
  <h3>Clients</h3>
  <div id="clientsCarousel" class="carousel slide" data-bs-ride="carousel">
    <div class="carousel-inner">
      {% for client in clients %}
      <div class="carousel-item {% if forloop.first %}active{% endif %}">
        <a href="{{ client.website }}">
          <img src="{{ client.logo.url }}" alt="{{ client.name }}" class="d-block w-100">
          <div class="carousel-caption d-none d-md-block">
            <h4>{{ client.name }}</h4>
          </div>
        </a>
      </div>
      {% endfor %}
    </div>
    <!-- Carousel controls -->
    <button class="carousel-control-prev" type="button" data-bs-target="#clientsCarousel" data-bs-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#clientsCarousel" data-bs-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Next</span>
    </button>
  </div>
</section>
<hr>

<section id="Testimonials" class="container">
  <!-- Testimonials -->
  <h3>Testimonials</h3>
  {% for testimonial in testimonials %}
  <li>
    <h4>{{ testimonial.client }}</h4>
    <p>{{ testimonial.testimonial_text }}</p>
    <small>{{ testimonial.submitted_on }}</small>
  </li>
  {% endfor %}
</section>
<hr>
<section id="contact" class="container">
  <!-- Contact section -->
  <h3>Contact Us.</h3>
  <form action="." method="post" class="form">
    {% csrf_token %}
    <div class="mb-3">
      {{ contact_form.name.label_tag }}
      {{ contact_form.name }}
    </div>
    <div class="mb-3">
      {{ contact_form.name.label_tag }}
      {{ contact_form.email }}
    </div>
    <div class="mb-3">
      {{ contact_form.name.label_tag }}
      {{ contact_form.subject }}
    </div>
    <div class="mb-3">
      {{ contact_form.name.label_tag }}
      {{ contact_form.message }}
    </div>
    <button type="submit" name="contact_submit" class="btn btn-primary">Send Message</button>
  </form>
</section>
<hr>
<section class="container">
  <!-- Newsletter Subscription Form -->
  <h2>Subscribe to Our Newsletter</h2>
  <form action="." method="post" class="form">
    {% csrf_token %}
    {{ newsletter_form.as_p }}
    <button type="submit" name="newsletter_submit" class="btn btn-primary">Subscribe</button>
  </form>
</section>
<hr>
{% endblock content %}